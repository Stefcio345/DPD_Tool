@page "/"
@using DPD_App.Models
@inject AppState AppState

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>
<Style>
.my-editor-class { /* for a specific editor instance */
height: 100px;
}
</Style>

<MudButton Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Send" Color="Color.Primary" OnClick="Test">
        <MudText>Test</MudText>
</MudButton>

<StandaloneCodeEditor Id="my-editor-instance-id" CssClass="my-editor-class" ConstructionOptions="EditorConstructionOptions"/>

@code
{
        private async void Test(MouseEventArgs obj)
        {
                var package = new Package();
                try
                {
                        await package.GenerateWaybills(AppState.CurrentProfile);
                }
                catch (SoapException e)
                {
                        Console.WriteLine(e);
                }
        }
        
        private StandaloneEditorConstructionOptions EditorConstructionOptions(StandaloneCodeEditor editor)
        {
                return new StandaloneEditorConstructionOptions
                {
                        AutomaticLayout = true,
                        Language = "html",
                        Value = "<Test>\n" +
                                "   <Dupa>1234Dupsko<Dupa/>\n" +
                                "</Test>"
                };
        }
}
